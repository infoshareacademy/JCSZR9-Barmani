{"ast":null,"code":"import { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./drink-endpoint.service\";\nimport * as i2 from \"./ingredient-endpoint.service\";\nexport class MixerService {\n  constructor(drinkEnpoint, ingredientEndpoint) {\n    this.drinkEnpoint = drinkEnpoint;\n    this.ingredientEndpoint = ingredientEndpoint;\n    this.ingredientsNamesSub = new Subject();\n    this.chosenIngredientsNamesSub = new Subject();\n    this.autoCompleteIngredientsSub = new Subject();\n    this.chosenIngredientsNames = [];\n    this.ingredientNames = [];\n    this.ingredientEndpoint.getAllNames().subscribe(data => {\n      this.ingredientNames = data;\n      this.ingredientsNamesSub.next(this.ingredientNames);\n    });\n  }\n  getAutoComplete(input) {\n    console.log('up?');\n    let chosen = this.chosenIngredientsNames.join(',');\n    console.log('chosen:' + chosen);\n    if (chosen === '') {\n      chosen = 'ygryt';\n    }\n    this.drinkEnpoint.autoCompleteMixer(input, chosen).subscribe(data => {\n      this.autoCompleteIngredientsSub.next(data);\n    });\n  }\n}\nMixerService.ɵfac = function MixerService_Factory(t) {\n  return new (t || MixerService)(i0.ɵɵinject(i1.DrinkEndpointService), i0.ɵɵinject(i2.IngredientEndpointService));\n};\nMixerService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: MixerService,\n  factory: MixerService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"names":["Subject","MixerService","constructor","drinkEnpoint","ingredientEndpoint","ingredientsNamesSub","chosenIngredientsNamesSub","autoCompleteIngredientsSub","chosenIngredientsNames","ingredientNames","getAllNames","subscribe","data","next","getAutoComplete","input","console","log","chosen","join","autoCompleteMixer","i0","ɵɵinject","i1","DrinkEndpointService","i2","IngredientEndpointService","factory","ɵfac","providedIn"],"sources":["C:\\Users\\ulisu\\Desktop\\Projects\\InfoShare\\Projekt\\JCSZR9-Barmani\\DrinkItUpWebApp\\DrinkItUpSPA\\src\\app\\shared\\mixer.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { DrinkEndpointService } from './drink-endpoint.service';\nimport { Subject } from 'rxjs';\nimport { IngredientEndpointService } from './ingredient-endpoint.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MixerService {\n\n  constructor(private drinkEnpoint: DrinkEndpointService, private ingredientEndpoint: IngredientEndpointService) { \n    this.ingredientEndpoint.getAllNames().subscribe( data =>{\n      this.ingredientNames = data\n      this.ingredientsNamesSub.next(this.ingredientNames);\n    })   \n  }\n\n  ingredientsNamesSub = new Subject<string[]>();\n  chosenIngredientsNamesSub = new Subject<string[]>();\n\n  autoCompleteIngredientsSub = new Subject<string[]>();\n\n  private chosenIngredientsNames: string[] = [];\n  private ingredientNames: string[] = [];\n\ngetAutoComplete(input:string){\n  console.log('up?')\n  let chosen = this.chosenIngredientsNames.join(',');\n  console.log('chosen:'+chosen)\n  if(chosen === '')\n  {\n    chosen = 'ygryt'\n  }\n  this.drinkEnpoint.autoCompleteMixer(input,chosen).subscribe(data =>{\n    this.autoCompleteIngredientsSub.next(data as string[]);\n  });\n}\n\n}\n"],"mappings":"AAEA,SAASA,OAAO,QAAQ,MAAM;;;;AAM9B,OAAM,MAAOC,YAAY;EAEvBC,YAAoBC,YAAkC,EAAUC,kBAA6C;IAAzF,KAAAD,YAAY,GAAZA,YAAY;IAAgC,KAAAC,kBAAkB,GAAlBA,kBAAkB;IAOlF,KAAAC,mBAAmB,GAAG,IAAIL,OAAO,EAAY;IAC7C,KAAAM,yBAAyB,GAAG,IAAIN,OAAO,EAAY;IAEnD,KAAAO,0BAA0B,GAAG,IAAIP,OAAO,EAAY;IAE5C,KAAAQ,sBAAsB,GAAa,EAAE;IACrC,KAAAC,eAAe,GAAa,EAAE;IAZpC,IAAI,CAACL,kBAAkB,CAACM,WAAW,EAAE,CAACC,SAAS,CAAEC,IAAI,IAAG;MACtD,IAAI,CAACH,eAAe,GAAGG,IAAI;MAC3B,IAAI,CAACP,mBAAmB,CAACQ,IAAI,CAAC,IAAI,CAACJ,eAAe,CAAC;IACrD,CAAC,CAAC;EACJ;EAUFK,eAAeA,CAACC,KAAY;IAC1BC,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC;IAClB,IAAIC,MAAM,GAAG,IAAI,CAACV,sBAAsB,CAACW,IAAI,CAAC,GAAG,CAAC;IAClDH,OAAO,CAACC,GAAG,CAAC,SAAS,GAACC,MAAM,CAAC;IAC7B,IAAGA,MAAM,KAAK,EAAE,EAChB;MACEA,MAAM,GAAG,OAAO;;IAElB,IAAI,CAACf,YAAY,CAACiB,iBAAiB,CAACL,KAAK,EAACG,MAAM,CAAC,CAACP,SAAS,CAACC,IAAI,IAAG;MACjE,IAAI,CAACL,0BAA0B,CAACM,IAAI,CAACD,IAAgB,CAAC;IACxD,CAAC,CAAC;EACJ;;AA5BaX,YAAY,C;mBAAZA,YAAY,EAAAoB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,oBAAA,GAAAH,EAAA,CAAAC,QAAA,CAAAG,EAAA,CAAAC,yBAAA;AAAA;AAAZzB,YAAY,C;SAAZA,YAAY;EAAA0B,OAAA,EAAZ1B,YAAY,CAAA2B,IAAA;EAAAC,UAAA,EAFX;AAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}